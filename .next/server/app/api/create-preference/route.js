"use strict";(()=>{var e={};e.id=809,e.ids=[809],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},35872:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var a={};t.r(a),t.d(a,{POST:()=>u});var i=t(49303),o=t(88716),n=t(60670),s=t(87070),p=t(36994);async function u(e){try{let r=process.env.MERCADOPAGO_ACCESS_TOKEN;if(!r)return console.error("A vari\xe1vel de ambiente MERCADOPAGO_ACCESS_TOKEN n\xe3o est\xe1 definida."),s.NextResponse.json({error:"Erro interno: Configura\xe7\xe3o inv\xe1lida."},{status:500});let{title:t,price:a,paymentMethod:i,date:o,time:n,clientName:u,clientPhone:c}=await e.json(),d=new p.f7({accessToken:r}),l=new p.Jk(d),m={items:[{id:"1234",title:t,unit_price:a,quantity:1}],payment_methods:{excluded_payment_types:"credit"===i?[{id:"ticket"}]:[{id:"credit_card"}]},external_reference:`${u}-${o}-${n}`,notification_url:"https://katysilvanaildesigner.vercel.app//api/mercadopago-webhook"},x=await l.create({body:m});return s.NextResponse.json({id:x.id,init_point:x.init_point})}catch(e){return console.error("Erro ao criar a prefer\xeancia de pagamento:",e),s.NextResponse.json({error:"Erro ao criar a prefer\xeancia de pagamento",details:e.message},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/create-preference/route",pathname:"/api/create-preference",filename:"route",bundlePath:"app/api/create-preference/route"},resolvedPagePath:"C:\\Users\\04jee\\meu-salao-de-beleza\\app\\api\\create-preference\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:m}=c,x="/api/create-preference/route";function f(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[276,972,994],()=>t(35872));module.exports=a})();