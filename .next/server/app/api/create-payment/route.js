"use strict";(()=>{var e={};e.id=941,e.ids=[941],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},34774:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{POST:()=>p});var n=r(49303),o=r(88716),i=r(60670),s=r(87070);async function p(e){try{let{id:t,title:r,price:a,date:n,time:o,clientName:i,clientPhone:p,clientEmail:u}=await e.json();if(!t||!r||!a||!i||!p||!u||!n||!o)return s.NextResponse.json({error:"Dados incompletos para criar o pagamento"},{status:400});let c=await fetch("https://api.mercadopago.com/checkout/preferences",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.MERCADO_PAGO_ACCESS_TOKEN}`},body:JSON.stringify({items:[{title:r,unit_price:a,quantity:1,currency_id:"BRL"}],payer:{name:i,email:u,phone:{number:p}},back_urls:{success:"https://katysilvanaildesigner.vercel.app//success",failure:"https://katysilvanaildesigner.vercel.app//failure",pending:"https://katysilvanaildesigner.vercel.app//pending"},notification_url:"https://katysilvanaildesigner.vercel.app//api/webhook",auto_return:"approved",external_reference:t})}),l=await c.json();if(!c.ok)return s.NextResponse.json({error:l.message||"Erro ao criar pagamento no Mercado Pago"},{status:c.status});return s.NextResponse.json({id:l.id,init_point:l.init_point})}catch(e){return console.error("âŒ Erro ao criar pagamento:",e),s.NextResponse.json({error:"Erro interno ao criar pagamento"},{status:500})}}let u=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/create-payment/route",pathname:"/api/create-payment",filename:"route",bundlePath:"app/api/create-payment/route"},resolvedPagePath:"C:\\Users\\04jee\\meu-salao-de-beleza\\app\\api\\create-payment\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:d}=u,m="/api/create-payment/route";function g(){return(0,i.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(34774));module.exports=a})();