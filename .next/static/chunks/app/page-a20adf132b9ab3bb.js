(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4363:function(e,t,a){Promise.resolve().then(a.bind(a,2080))},2080:function(e,t,a){"use strict";let r;a.r(t),a.d(t,{default:function(){return Y}});var n=a(7437),s=a(2265),o=a(1047),i=a(1817),d=a(2869),l=a(6070),c=a(4508);let m=s.forwardRef((e,t)=>{let{className:a,type:r,...s}=e;return(0,n.jsx)("input",{type:r,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});m.displayName="Input";var u=a(6394);let f=(0,a(535).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(u.f,{ref:t,className:(0,c.cn)(f(),a),...r})});p.displayName=u.f.displayName;var x=a(7823),h=a(875),g=a(2135),y=a(401);let b=x.fC;x.ZA;let v=x.B4,j=s.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,n.jsxs)(x.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[r,(0,n.jsx)(x.JO,{asChild:!0,children:(0,n.jsx)(h.Z,{className:"h-4 w-4 opacity-50"})})]})});j.displayName=x.xz.displayName;let N=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(x.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,n.jsx)(g.Z,{className:"h-4 w-4"})})});N.displayName=x.u_.displayName;let w=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(x.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,n.jsx)(h.Z,{className:"h-4 w-4"})})});w.displayName=x.$G.displayName;let _=s.forwardRef((e,t)=>{let{className:a,children:r,position:s="popper",...o}=e;return(0,n.jsx)(x.h_,{children:(0,n.jsxs)(x.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...o,children:[(0,n.jsx)(N,{}),(0,n.jsx)(x.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,n.jsx)(w,{})]})})});_.displayName=x.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(x.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=x.__.displayName;let S=s.forwardRef((e,t)=>{let{className:a,children:r,...s}=e;return(0,n.jsxs)(x.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(x.wU,{children:(0,n.jsx)(y.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(x.eT,{children:r})]})});S.displayName=x.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(x.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=x.Z0.displayName;var R=a(8667);function k(){return(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-2xl font-bold text-pink-600",children:"Katy Silva"}),(0,n.jsx)("span",{className:"text-lg font-semibold text-gray-600",children:"Nail Designer"})]})}var C=a(2451),z=a(407),E=a(7811);function Z(e){let{className:t,classNames:a,showOutsideDays:r=!0,...s}=e;return(0,n.jsx)(E._W,{showOutsideDays:r,className:(0,c.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,c.cn)((0,d.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,c.cn)((0,d.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,n.jsx)(C.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,n.jsx)(z.Z,{className:"h-4 w-4"})}},...s})}Z.displayName="Calendar";var A=a(6151);let D=A.fC,O=A.xz,I=s.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:s=4,...o}=e;return(0,n.jsx)(A.h_,{children:(0,n.jsx)(A.VY,{ref:t,align:r,sideOffset:s,className:(0,c.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});I.displayName=A.VY.displayName;var M=a(7107),T=a(5978),U=a(738);let V={apiKey:"AIzaSyAT9yeUR8dCpKbksRvHkcpgQ3fnJYX_yXU",authDomain:"meu-salao-de-beleza-de96e.firebaseapp.com",databaseURL:a(257).env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,projectId:"meu-salao-de-beleza-de96e",storageBucket:"meu-salao-de-beleza-de96e.appspot.com",messagingSenderId:"168401795517",appId:"1:168401795517:web:155126b89a3e9c2ec37ad4",measurementId:"G-W2NV1442GG"};try{r=(0,U.Mq)()}catch(e){r=(0,U.ZF)(V)}let W=(0,T.ad)(r),B={nails:[{name:"Gel na tips",price:120},{name:"Manuten\xe7\xe3o gel",price:60},{name:"Banho de gel",price:100},{name:"Manicure",price:25},{name:"Pedicure",price:25},{name:"Combo Mani + Pedi",price:45}],eyebrows:[{name:"Designer com Henna",price:35},{name:"Designer Natural",price:25}]},P=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"];function Y(){let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(!1),[c,u]=(0,s.useState)(void 0),[f,x]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[w,C]=(0,s.useState)(""),z=async t=>{t.preventDefault(),r(!0),C("");try{if(!h||!y||!c||!f||!e)throw Error("Todos os campos s\xe3o obrigat\xf3rios!");let t=[...B.nails,...B.eyebrows].find(t=>t.name===e);if(!t)throw Error("Servi\xe7o n\xe3o encontrado");let a=await (0,T.ET)((0,T.hJ)(W,"agendamentos"),{nome:h,telefone:y,data:(0,M.WU)(c,"yyyy-MM-dd"),horario:f,servico:e,status:"pendente",createdAt:new Date().toISOString(),valor:t.price});if(console.log("✅ Agendamento salvo com ID:",a.id),!(await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"05jeelo30@gmail.com",subject:"Novo Agendamento - KatySilvaNailDesigner",text:"Novo agendamento:\n            Nome: ".concat(h,"\n            WhatsApp: ").concat(y,"\n            Servi\xe7o: ").concat(e,"\n            Data: ").concat((0,M.WU)(c,"dd/MM/yyyy"),"\n            Hor\xe1rio: ").concat(f,"\n            Valor: R$ ").concat(t.price.toFixed(2))})})).ok)throw Error("Erro ao enviar confirma\xe7\xe3o por e-mail");let r=await fetch("/api/create-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,title:t.name,price:t.price,date:(0,M.WU)(c,"yyyy-MM-dd"),time:f,clientName:h,clientPhone:y,clientEmail:y+"@email.com"})});if(!r.ok){let e=await r.json();throw Error(e.error||"Erro ao processar pagamento")}let n=await r.json();window.location.href=n.init_point}catch(e){console.error("❌ Erro:",e),C(e.message||"Erro ao processar agendamento")}finally{r(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.default,{src:"https://sdk.mercadopago.com/js/v2",strategy:"lazyOnload"}),(0,n.jsxs)("div",{className:"min-h-screen bg-pink-50 p-4",children:[(0,n.jsx)("div",{className:"mb-8 flex justify-center",children:(0,n.jsx)(k,{})}),(0,n.jsxs)(l.Zb,{className:"mx-auto max-w-xl",children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)(l.ll,{className:"flex items-center gap-2 text-2xl",children:[(0,n.jsx)(o.Z,{className:"h-6 w-6 text-pink-600"}),"Agendamento"]})}),(0,n.jsx)(l.aY,{children:(0,n.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{children:"Nome:"}),(0,n.jsx)(m,{value:h,onChange:e=>g(e.target.value),placeholder:"Seu nome completo",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{children:"WhatsApp:"}),(0,n.jsx)(m,{value:y,onChange:e=>N(e.target.value),placeholder:"(11) 99999-9999",type:"tel",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{children:"Servi\xe7o:"}),(0,n.jsxs)(b,{value:e,onValueChange:t,required:!0,children:[(0,n.jsx)(j,{children:(0,n.jsx)(v,{placeholder:"Selecione um servi\xe7o"})}),(0,n.jsx)(_,{children:Object.entries(B).map(e=>{let[t,a]=e;return(0,n.jsx)("div",{children:a.map(e=>(0,n.jsxs)(S,{value:e.name,children:[e.name," - R$",e.price.toFixed(2)]},e.name))},t)})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{children:"Data:"}),(0,n.jsxs)(D,{children:[(0,n.jsx)(O,{asChild:!0,children:(0,n.jsxs)(d.z,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),c?(0,M.WU)(c,"dd/MM/yyyy"):"Selecione a data"]})}),(0,n.jsx)(I,{className:"w-auto p-0",children:(0,n.jsx)(Z,{mode:"single",selected:c,onSelect:u,disabled:{before:new Date}})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{children:"Hor\xe1rio:"}),(0,n.jsxs)(b,{value:f,onValueChange:x,disabled:!c,required:!0,children:[(0,n.jsx)(j,{children:(0,n.jsx)(v,{placeholder:"Selecione o hor\xe1rio"})}),(0,n.jsx)(_,{children:P.map(e=>(0,n.jsx)(S,{value:e,children:e},e))})]})]}),(0,n.jsx)(d.z,{type:"submit",disabled:a,className:"w-full",children:a?(0,n.jsx)(i.Z,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirmar Agendamento"}),w&&(0,n.jsx)("p",{className:"text-red-500 text-center mt-4",children:w})]})})]})]})]})}},2869:function(e,t,a){"use strict";a.d(t,{d:function(){return d},z:function(){return l}});var r=a(7437),n=a(2265),s=a(7495),o=a(535),i=a(4508);let d=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:a,variant:n,size:o,asChild:l=!1,...c}=e,m=l?s.g7:"button";return(0,r.jsx)(m,{className:(0,i.cn)(d({variant:n,size:o,className:a})),ref:t,...c})});l.displayName="Button"},6070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return o},aY:function(){return c},ll:function(){return d}});var r=a(7437),n=a(2265),s=a(4508);let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});o.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});d.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...n})});l.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(1994),n=a(3335);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[358,203,665,971,117,744],function(){return e(e.s=4363)}),_N_E=e.O()}]);